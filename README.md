***Вариант файла инструкции Худяков А. Е.
# Введение в контроль версий
![Git](git.svg)
## Наколенный справочник по Git
 
> Я не генеральный директор АВТОВАЗа, поэтому поступим честно - справочник по Git разместим в репозитории Git.

>В лучших традициях - чтоб два раза не вставать - в файле справочника используется язык разметки Markdown.

### Рассмотрим в справочнике
* Что такое контроль версий
* Как установить Git
* Настройки при первом запуске
* Основные понятия
* Часто используемые команды
* Стандартные ситуации

Очевидно что в процессе деятельности, результат достигается не сразу.
Достижение результата как решения задачи предполагает некоторые внутренние этапы.

И если учесть что рабочий процесс редко обходится без ошибок, описок, если учесть что способы и подходы к решению задачи, логика её решения могут меняться на любом этапе, любой созидающий человек сталкивается с необходимостью отслеживать изменения, выбирать лучшее из нескольких вариантов решения.

Самым простым представляется (и именно так поступает большинство офисной пехоты) создание нескольких экземпляров файла.

>Как-то мне довелось работать с одним из технических подразделений ФСО - я настраивал и программировал некую систему. Так вот от меня требовали чтобы в конце каждого рабочего дня и тем более после какого-нибудь функционального изменения системы я сохранял файл конфигурации на отдельную дискету.

При небольших объемах, для не слишком объемного решения такой подход вполне себе подходит. Однако дальше начинается очень не спортивное ориентирование...

Для адекватного обоснования необходимости в использовании инструментов контроля версий потребуется много слов, что в формате справочника выглядело бы неуместно. Для желающих оставляю ссылки:

1. [Статья Ильнара Шафигуллина про папки, репозитории и некоторые сложности при освоении контроля версий.](https://gb.ru/posts/soveti-pro-git)
2. [Дополнительный курс по Git , на который можно записаться бесплатно портале GeekBrains.](https://gb.ru/courses/1117)
3. [Как начать в Git. Видео от Сергея Камянецкого.](https://t.me/iksergeyru/102)
4. [Git для новичков. Статья на Хабре.](https://habr.com/ru/post/541258/)
5. [Google в помощь](https://www.google.com/)

**Итак, в рамках справочника рассматривается практическая сторона использования одного из инструментов контроля версий - Git.**

## Установка Git
Установка Git на компьютер - вещь достаточно стандартная и понятная. Скачали файл установщика под свою операционную систему, запустили и жмёте кнопки ***Next***.

Перед установкой полезно проверить - может быть на компьютере уже есть Git? ***Houston, we have a problem!***  Для этого в любом терминале (самый простой вариант - запустить cmd.exe или powershell.exe) набрать "git status". Если в ответ получите ругательства, можно устанавливать.

После установки иногда может потребоваться перезагрузить компьютер.
## Настройки при первом запуске
Сразу после установки необходимо указать своё имя (или артистический псевдоним) и адрес электронной почты.

>Рекомендация: имя указываем в кавычках на латинице без пробелов и специальных символов типа тильды ~. В остальном придерживаемся здравомыслия.

**Добавляем имя пользователя:**

***git config --global user.name "MyNameGitosaur"***

>Рекомендация: адрес электронной почты лучше вводить реальный, но только потому что дальше может потребоваться организовать совместный доступ к репозиториям через GitHub. Адрес можно указать без кавычек.

**Добавляем адрес электронной почты:**

***git config --global user.email Gitosaurus@gmail.ru***

Фактически эти данные можно внести/изменить в любой момент, но без них не получится зафиксировать изменения файла (см. ниже).

Про остальные настройки можно при желании прочитать в специальной литературе (см. ссылки выше). 

Здесь не лишним будет упомянуть несколько полезных команд:

- Просмотреть текущие настройки ***git config --list***
- Вывести справку по команде ***git help <команда>***
- Текущий статус ***git status***

## Основные понятия
- Репозиторий - папка, назначенная в Git для отслеживания изменений. Может содержать вложенные папки. Вложенные папки не должны быть инициализированы как репозиторий. (We are against matryoshka).
- Коммит - глагол, действие по фиксации текущего состояния отслеживаемого файла.
- Ветка - виртуальная сущность, абстракция позволяющая выделить в отдельный поток все изменения, объединённые какой-то логикой. Чаще всего, и обоснованней всего в отдельную ветку выделять работу над какой-то обособленной функциональностью.
    >Вообще то было бы правильней эти сущности назвать потоком, потому что они как минимум сливаются, а ветки нет.
- Удаленный репозиторий - администрируемый пользователем репозиторий на сервисе Git.
- Форк (fork) - ответвление от другого репозитория. По сути полный клон другого репозитория.
- Пул реквест (pull request) - запрос, направляемый владельцу репозитория на вливание в него вашей ветки, с как водится гениальными предложениями.

## Основные команды

## ***git add***

    Команда git add добавляет содержимое рабочей директории в индекс (staging area) для последующего коммита. По умолчанию git commit использует лишь этот индекс, так что вы можете использовать git add для сборки слепка вашего следующего коммита.

## ***git status***

    Команда git status показывает состояния файлов в рабочей директории и индексе: какие файлы изменены, но не добавлены в индекс; какие ожидают коммита в индексе. Вдобавок к этому выводятся подсказки о том, как изменить состояние файлов.

## ***git diff***

    Команда git diff используется для вычисления разницы между любыми двумя Git деревьями. Это может быть разница между вашей рабочей директорией и индексом (собственно git diff), разница между индексом и последним коммитом (git diff --staged), или между любыми двумя коммитами (git diff master branchB).

## ***git commit***

    Команда git commit берёт все данные, добавленные в индекс с помощью git add, и сохраняет их слепок во внутренней базе данных, а затем сдвигает указатель текущей ветки на этот слепок.

## ***git pull***

    Команда закачивания изменений из одного репозитория в другой. Чаще всего из удаленного в локальный.

## ***git push***

    Команда загрузки своих изменений в другой репозиторий. Чаще всего из локального в удаленный.

## ***git clone***

    Команда для клонирования - создания полной копии репозитория в другой директории. Чаще всего применяется для включения в дружную команду разработчиков супер-уник-швах-продукта. Клон репозитория не имеет связи с "родительским репозитарием". Его полноправный владелец тот, кто осмелился клонировать исходный проект. В среде GitHub подобное безчинство принято выполнять процедурой Fork.

> Любопытно что Fork в переводе с гретбритишного - вилка. Складывается устойчивое впечатление что Линус Торвальдс поторопился с названием ветки веткой (branch). Как в таком случае называлась бы сущность, представляющая ветвление между предельноразными workflow? Грабли? Rake?

## ***git remote add <имя репозитория> <адрес>***
Команда добавляющая связь локального ПК с удаленным репозиторием, например в GitHub.

## Стандартные ситуации
|Ситуация|Порядок действий и команд|
|--------|-------------------------|
|Начать отслеживать изменения в папке|Открыть любой терминал - cmd.exe/powershell.exe/git-basdh.exe. Перейти в ту папку в которой необходимо контролировать версии файлов - ввести в терминале команду: ***cd <Полное имя папки>***. Инициализировать репозиторий в папке - ввести команду: ***git init***)|
|Зафиксировать текущую версию файла|Файл уже может существовать в папке до создания репозитория. Можно создавать файлы и внутри репозитория. Для фиксации версии с внесёнными изменениями необходимо сохранить файл(ы): ***Ctrl+s***, затем указать программе какой файл(ы) нужно будет зафиксировать: ***git add <Имя файла>***, и собственно дать команду зафиксировать версию: ***git commit -m "Комментарии к сохранению обязательны"***.|
|Перейти к другой версии файла|Если в ходе работы выяснилось что результат последнего часа работы никого не неудовлетворяет можно откатиться к более ранней версии файла. Для этого необходимо ввести команду: ***git log***. манипулируя флагами и атрибутами можно вывести на экран список всех "снимков". У каждой версии имеется уникальный hash-идентификатор. Для переключения к нужной версии ввести команду: ***git checkout <идентификатор>***.|
|Разделить разработку разных разделов проекта|Создать ветку: ***git branch <имя ветки>***. Перейти в созданную ветку: ***git checkout <имя ветки>***.|
|Работать с проектом, хранящимся в сетевом (удаленном) репозитории|Создать на ресурсе, например GitHub или BitBucket репозиторий. Скопировать адрес (HTTPS или SSH) и дать команду git на локальном пк: git remote add <имя репозитория> <адрес в сети>. Вносить изменения, индексировать файлы для фиксации, фиксировать версии файлов можно на локальном ПК, но не забывать отправляять изменения в удаленный репозиторий: git push origin <имя ветки>. Если с проектом работает группа энтузиастов, перед кажды пушем полезно выполнять команду: git pull origin.|
